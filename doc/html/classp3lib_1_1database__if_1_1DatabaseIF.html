<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>p3lib: DatabaseIF Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">p3lib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacep3lib.html">p3lib</a></li><li class="navelem"><a class="el" href="namespacep3lib_1_1database__if.html">database_if</a></li><li class="navelem"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html">DatabaseIF</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classp3lib_1_1database__if_1_1DatabaseIF-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DatabaseIF Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for DatabaseIF:</div>
<div class="dyncontent">
<div class="center"><img src="classp3lib_1_1database__if_1_1DatabaseIF__inherit__graph.png" border="0" usemap="#DatabaseIF_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for DatabaseIF:</div>
<div class="dyncontent">
<div class="center"><img src="classp3lib_1_1database__if_1_1DatabaseIF__coll__graph.png" border="0" usemap="#DatabaseIF_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1b6ec0c2643eed6e33365a56aa8551ef"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a1b6ec0c2643eed6e33365a56aa8551ef">__init__</a> (self, config)</td></tr>
<tr class="separator:a1b6ec0c2643eed6e33365a56aa8551ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5505259a51131fe89dbde6fbeab32b52"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a5505259a51131fe89dbde6fbeab32b52">connect</a> (self)</td></tr>
<tr class="separator:a5505259a51131fe89dbde6fbeab32b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ed5ddcd5c3eb58f71969e27d59059b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a13ed5ddcd5c3eb58f71969e27d59059b">connectNoDB</a> (self)</td></tr>
<tr class="separator:a13ed5ddcd5c3eb58f71969e27d59059b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a70593baa236605958185dcdb02700"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a18a70593baa236605958185dcdb02700">createDatabase</a> (self)</td></tr>
<tr class="separator:a18a70593baa236605958185dcdb02700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f411f2788d4a5b2b28848c848e4aac0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a1f411f2788d4a5b2b28848c848e4aac0">createTable</a> (self, tableName, tableSchemaDict)</td></tr>
<tr class="separator:a1f411f2788d4a5b2b28848c848e4aac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe00fd94add5c82aa6cab53e81ef3489"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#afe00fd94add5c82aa6cab53e81ef3489">disconnect</a> (self)</td></tr>
<tr class="separator:afe00fd94add5c82aa6cab53e81ef3489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94feab0d49b4899b5f275aa2bd37341"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#ac94feab0d49b4899b5f275aa2bd37341">dropDatabase</a> (self)</td></tr>
<tr class="separator:ac94feab0d49b4899b5f275aa2bd37341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a272aa58ab45d135c7fca3f5f3c0a2d3a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a272aa58ab45d135c7fca3f5f3c0a2d3a">dropTable</a> (self, tableName)</td></tr>
<tr class="separator:a272aa58ab45d135c7fca3f5f3c0a2d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ed3a19b9d85fb990978ed4308194e5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a44ed3a19b9d85fb990978ed4308194e5">ensureTableExists</a> (self, tableName, tableSchemaDict, autoCreate)</td></tr>
<tr class="separator:a44ed3a19b9d85fb990978ed4308194e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ffd1a646b85c8ff98412b9082adcd15"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a6ffd1a646b85c8ff98412b9082adcd15">executeSQL</a> (self, sqlCmd)</td></tr>
<tr class="separator:a6ffd1a646b85c8ff98412b9082adcd15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a0ec38fd14c3b8f6b7bdb20f9fc4815"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a9a0ec38fd14c3b8f6b7bdb20f9fc4815">insertRow</a> (self, dataDict, tableName, tableSchemaDict)</td></tr>
<tr class="separator:a9a0ec38fd14c3b8f6b7bdb20f9fc4815"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5fa0353081793451468619544d38797d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a5fa0353081793451468619544d38797d">CheckTableExists</a> (connection, tableName)</td></tr>
<tr class="separator:a5fa0353081793451468619544d38797d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbd5254aaaf84ab84561594a116807e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a7cbd5254aaaf84ab84561594a116807e">CreateTable</a> (connection, tableName, tableSchemaDict)</td></tr>
<tr class="separator:a7cbd5254aaaf84ab84561594a116807e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b70c4a751cd2ccd735b8fa29517e6e0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a0b70c4a751cd2ccd735b8fa29517e6e0">ExecuteSQL</a> (connection, cursor, cmd)</td></tr>
<tr class="separator:a0b70c4a751cd2ccd735b8fa29517e6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd4e4aa437cff3948c75507a9c06246"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a1dd4e4aa437cff3948c75507a9c06246">GetInsertableDict</a> (self, rxDict, tableSchema)</td></tr>
<tr class="separator:a1dd4e4aa437cff3948c75507a9c06246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b0196aed08af70b991cb26eb3203fa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#aa5b0196aed08af70b991cb26eb3203fa">GetQuotedValue</a> (value)</td></tr>
<tr class="separator:aa5b0196aed08af70b991cb26eb3203fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b55627eeabb0f434498a2ef7efce9b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#ac4b55627eeabb0f434498a2ef7efce9b">GetValidColName</a> (colName)</td></tr>
<tr class="separator:ac4b55627eeabb0f434498a2ef7efce9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6783194c63252bdbdc3fa468dea0965"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#ac6783194c63252bdbdc3fa468dea0965">InsertRow</a> (connection, tableName, myDict)</td></tr>
<tr class="separator:ac6783194c63252bdbdc3fa468dea0965"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a117352cc494cc62c6b2f1882786a332c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classp3lib_1_1database__if_1_1DatabaseIF.html#a117352cc494cc62c6b2f1882786a332c">DEBUG</a> = False</td></tr>
<tr class="separator:a117352cc494cc62c6b2f1882786a332c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">@brief Responsible for providing an interface to a database to allow
          Creation of database
          Creation of tables
          Execution of database sql commands</pre><pre class="fragment">@brief Set this to True to see the SQL statements executed.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00022">22</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1b6ec0c2643eed6e33365a56aa8551ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b6ec0c2643eed6e33365a56aa8551ef">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Constructor
   @param config The database configuration instance.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00129">129</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">def </span>__init__(self, config):</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Constructor</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="stringliteral">           @param config The database configuration instance.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        self._dbConfig = config</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        self._dbCon = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5fa0353081793451468619544d38797d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fa0353081793451468619544d38797d">&#9670;&nbsp;</a></span>CheckTableExists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def CheckTableExists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Check if a table exists in the selected database.
   @param connection The connection to the database.
   @param tableName The name of the table to check for.
   @return True if the table exists, False if not.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00033">33</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keyword">def </span>CheckTableExists(connection, tableName):</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Check if a table exists in the selected database.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="stringliteral">           @param connection The connection to the database.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="stringliteral">           @param tableName The name of the table to check for.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="stringliteral">           @return True if the table exists, False if not.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        cursor = connection.cursor()</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        cmd=<span class="stringliteral">&quot;&quot;&quot;SELECT COUNT(*) FROM information_schema.tables WHERE table_name = &#39;{0}&#39;&quot;&quot;&quot;</span>.format(tableName.replace(<span class="stringliteral">&#39;\&#39;&#39;</span>, <span class="stringliteral">&#39;\&#39;\&#39;&#39;</span>))</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        cursor.execute(cmd)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        tableExists = cursor.fetchone()[0] == 1</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        cursor.close()</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordflow">return</span> tableExists</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5505259a51131fe89dbde6fbeab32b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5505259a51131fe89dbde6fbeab32b52">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def connect </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief connect to the database server.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00145">145</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">def </span>connect(self):</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief connect to the database server.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        self._info(<span class="stringliteral">&quot;Connecting to {}:{} (database = {})&quot;</span>.format(self._dbConfig.serverAddress, self._dbConfig.serverPort, self._dbConfig.dataBaseName))</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        self._dbCon = mysqldb.Connection(host=self._dbConfig.serverAddress,\</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                                port=self._dbConfig.serverPort,\</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                                user=self._dbConfig.username,\</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                                passwd=self._dbConfig.password,\</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                                db=self._dbConfig.dataBaseName)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        self._info(<span class="stringliteral">&quot;Connected&quot;</span>)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a13ed5ddcd5c3eb58f71969e27d59059b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13ed5ddcd5c3eb58f71969e27d59059b">&#9670;&nbsp;</a></span>connectNoDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def connectNoDB </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief connect to the database server.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00155">155</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">def </span>connectNoDB(self):</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief connect to the database server.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        self._info(<span class="stringliteral">&quot;Connecting to {}:{}&quot;</span>.format(self._dbConfig.serverAddress, self._dbConfig.serverPort))</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        self._dbCon = mysqldb.Connection(host=self._dbConfig.serverAddress,\</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                                port=self._dbConfig.serverPort,\</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                                user=self._dbConfig.username,\</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                                passwd=self._dbConfig.password)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        self._info(<span class="stringliteral">&quot;Connected&quot;</span>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a18a70593baa236605958185dcdb02700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18a70593baa236605958185dcdb02700">&#9670;&nbsp;</a></span>createDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def createDatabase </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Create the database</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00216">216</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keyword">def </span>createDatabase(self):</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Create the database&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        sql = <span class="stringliteral">&quot;CREATE DATABASE `{}`;&quot;</span>.format(self._dbConfig.dataBaseName)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        self.executeSQL(sql)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        self._info(<span class="stringliteral">&quot;Created {} database.&quot;</span>.format(self._dbConfig.dataBaseName))</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cbd5254aaaf84ab84561594a116807e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cbd5254aaaf84ab84561594a116807e">&#9670;&nbsp;</a></span>CreateTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def CreateTable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableSchemaDict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">"@brief Create a table in the currently USED database..
    @param connection The connection to the database.
    @param param:
    @param tableSchemaDict A python dictionary that defines the table schema.
                   Each dictionary key is the name of the column in the table.
                   Each associated value is the SQL definition of the column type (E.G VARCHAR(64), FLOAT(5,2) etc).</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00057">57</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">def </span>CreateTable(connection, tableName, tableSchemaDict):</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;&quot;@brief Create a table in the currently USED database..</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="stringliteral">            @param connection The connection to the database.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="stringliteral">            @param param:</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="stringliteral">            @param tableSchemaDict A python dictionary that defines the table schema.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="stringliteral">                                   Each dictionary key is the name of the column in the table.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="stringliteral">                                   Each associated value is the SQL definition of the column type (E.G VARCHAR(64), FLOAT(5,2) etc).&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        cursor = connection.cursor()</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        sqlCmd = <span class="stringliteral">&#39;CREATE TABLE IF NOT EXISTS `{}` (&#39;</span>.format(tableName)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">for</span> colName <span class="keywordflow">in</span> list(tableSchemaDict.keys()):</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            colDef = tableSchemaDict[colName]</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            correctedColName = DatabaseIF.GetValidColName(colName)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            sqlCmd = sqlCmd + <span class="stringliteral">&quot;`{}` {},\n&quot;</span>.format(correctedColName, colDef)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        sqlCmd = sqlCmd[:-2]</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        sqlCmd = sqlCmd + <span class="stringliteral">&quot;);&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        DatabaseIF.ExecuteSQL(connection, cursor, sqlCmd)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        cursor.close()</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f411f2788d4a5b2b28848c848e4aac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f411f2788d4a5b2b28848c848e4aac0">&#9670;&nbsp;</a></span>createTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def createTable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableSchemaDict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Create the table in the connected database.
   @param tableName The table we're innterested in.
   @param tableSchemaDict The schema for the table in dict form.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00164">164</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">def </span>createTable(self, tableName, tableSchemaDict):</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Create the table in the connected database.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="stringliteral">           @param tableName The table we&#39;re innterested in.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="stringliteral">           @param tableSchemaDict The schema for the table in dict form.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> DatabaseIF.CheckTableExists(self._dbCon, tableName):</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            DatabaseIF.CreateTable(self._dbCon, tableName, tableSchemaDict)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            self._info(<span class="stringliteral">&quot;Created the {} table&quot;</span>.format(tableName))</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&quot;The {} table already exists in the database.&quot;</span>.format(tableName))</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="afe00fd94add5c82aa6cab53e81ef3489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe00fd94add5c82aa6cab53e81ef3489">&#9670;&nbsp;</a></span>disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def disconnect </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Disconnect from the database server.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00206">206</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">def </span>disconnect(self):</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Disconnect from the database server.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">if</span> self._dbCon:</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                self._dbCon.close()</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                self._dbCon = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                self._info(<span class="stringliteral">&quot;Disconnected from {}:{}&quot;</span>.format(self._dbConfig.serverAddress, self._dbConfig.serverPort))</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">except</span>:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordflow">pass</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac94feab0d49b4899b5f275aa2bd37341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94feab0d49b4899b5f275aa2bd37341">&#9670;&nbsp;</a></span>dropDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dropDatabase </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Delete the database</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00222">222</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keyword">def </span>dropDatabase(self):</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Delete the database&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        sql = <span class="stringliteral">&quot;DROP DATABASE `{}`;&quot;</span>.format(self._dbConfig.dataBaseName)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        self.executeSQL(sql)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        self._info(<span class="stringliteral">&quot;Deleted {} database.&quot;</span>.format(self._dbConfig.dataBaseName))</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a272aa58ab45d135c7fca3f5f3c0a2d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a272aa58ab45d135c7fca3f5f3c0a2d3a">&#9670;&nbsp;</a></span>dropTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dropTable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Delete a table in the database
   @param tableName The table to drop.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00228">228</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">def </span>dropTable(self, tableName):</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Delete a table in the database</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="stringliteral">           @param tableName The table to drop.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        sql = <span class="stringliteral">&quot;DROP TABLE `{}`;&quot;</span>.format(tableName)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        self.executeSQL(sql)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        self._info(<span class="stringliteral">&quot;Deleted {} database table.&quot;</span>.format(tableName))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a44ed3a19b9d85fb990978ed4308194e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ed3a19b9d85fb990978ed4308194e5">&#9670;&nbsp;</a></span>ensureTableExists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ensureTableExists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableSchemaDict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>autoCreate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Check that the table a table exists in the database.
   @param tableName The table we're interested in.
   @param tableSchemaDict The schema for the table in dict form.
   @param autoCreate IF True then auto create the table.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00174">174</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">def </span>ensureTableExists(self, tableName, tableSchemaDict, autoCreate):</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Check that the table a table exists in the database.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="stringliteral">           @param tableName The table we&#39;re interested in.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="stringliteral">           @param tableSchemaDict The schema for the table in dict form.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="stringliteral">           @param autoCreate IF True then auto create the table.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> DatabaseIF.CheckTableExists(self._dbCon, tableName):</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">if</span> autoCreate:</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                self.createTable(tableName, tableSchemaDict)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <span class="keywordflow">raise</span> DatabaseIFError(<span class="stringliteral">&quot;{} database table not found.&quot;</span>.format(tableName) )</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b70c4a751cd2ccd735b8fa29517e6e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b70c4a751cd2ccd735b8fa29517e6e0">&#9670;&nbsp;</a></span>ExecuteSQL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def ExecuteSQL </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00103">103</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">def </span>ExecuteSQL(connection, cursor, cmd):</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">if</span> DatabaseIF.DEBUG:</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                print(<span class="stringliteral">&#39;ExecuteSQL(): &#39;</span>,cmd)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            rowsAffected = cursor.execute(cmd)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            connection.commit()</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">except</span>:</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            connection.rollback();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">raise</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">return</span> rowsAffected</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6ffd1a646b85c8ff98412b9082adcd15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ffd1a646b85c8ff98412b9082adcd15">&#9670;&nbsp;</a></span>executeSQL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def executeSQL </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sqlCmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief execute an SQL cmd</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00198">198</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keyword">def </span>executeSQL(self, sqlCmd):</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief execute an SQL cmd&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        self._debug(<span class="stringliteral">&quot;EXECUTE SQL: {}&quot;</span>.format(sqlCmd))</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        dictCursor = self._dbCon.cursor(mysqldb.cursors.DictCursor)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        dictCursor.execute(sqlCmd)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">return</span> dictCursor.fetchall()</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1dd4e4aa437cff3948c75507a9c06246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd4e4aa437cff3948c75507a9c06246">&#9670;&nbsp;</a></span>GetInsertableDict()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def GetInsertableDict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rxDict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableSchema</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Convert the dict into a dict that can be stored in the database.
  All the keys must have names that only contain characters that are valid for table columns.
  Only those keys that are in the tableSchema will be inserted.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00116">116</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keyword">def </span>GetInsertableDict(self, rxDict, tableSchema):</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Convert the dict into a dict that can be stored in the database.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="stringliteral">                  All the keys must have names that only contain characters that are valid for table columns.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="stringliteral">                  Only those keys that are in the tableSchema will be inserted.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        keys = list(rxDict.keys())</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        convertedDict = {}</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">for</span> key <span class="keywordflow">in</span> keys:</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            colName = DatabaseIF.GetValidColName(key)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="comment">#Only add the keys that we wish to store in the database</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">if</span> colName <span class="keywordflow">in</span> list(tableSchema.keys()):</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                convertedDict[colName] = rxDict[key]</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">return</span> convertedDict</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5b0196aed08af70b991cb26eb3203fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5b0196aed08af70b991cb26eb3203fa">&#9670;&nbsp;</a></span>GetQuotedValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def GetQuotedValue </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00078">78</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keyword">def </span>GetQuotedValue(value):</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;\&quot;{}&quot;&#39;</span>.format(str(value))</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4b55627eeabb0f434498a2ef7efce9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b55627eeabb0f434498a2ef7efce9b">&#9670;&nbsp;</a></span>GetValidColName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def GetValidColName </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>colName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get a valid database column name.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00046">46</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">def </span>GetValidColName(colName):</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Get a valid database column name.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        VALID_CHAR_LIST = <span class="stringliteral">&quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">for</span> aChar <span class="keywordflow">in</span> colName:</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordflow">if</span> aChar <span class="keywordflow">not</span> <span class="keywordflow">in</span> VALID_CHAR_LIST:</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                colName = colName.replace(aChar, <span class="stringliteral">&#39;_&#39;</span>)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">return</span> colName</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6783194c63252bdbdc3fa468dea0965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6783194c63252bdbdc3fa468dea0965">&#9670;&nbsp;</a></span>InsertRow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def InsertRow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>myDict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Insert a row into the table.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00082">82</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">def </span>InsertRow(connection, tableName, myDict):</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Insert a row into the table.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        cursor = connection.cursor()</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        timestamp = datetime.now().strftime(<span class="stringliteral">&#39;%Y-%m-%d %H:%M:%S&#39;</span>)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        myDict[<span class="stringliteral">&#39;TIMESTAMP&#39;</span>] = timestamp</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        keyList = list(myDict.keys())</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        valueList = []</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">for</span> key <span class="keywordflow">in</span> keyList:</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            valueList.append(str(myDict[key]))</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        sql = <span class="stringliteral">&#39;INSERT INTO `&#39;</span> + tableName</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        sql += <span class="stringliteral">&#39;` (&#39;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        sql += <span class="stringliteral">&#39;, &#39;</span>.join(keyList)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        sql += <span class="stringliteral">&#39;) VALUES (&#39;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        sql += <span class="stringliteral">&#39;, &#39;</span>.join(map(DatabaseIF.GetQuotedValue, valueList))</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        sql += <span class="stringliteral">&#39;);&#39;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        DatabaseIF.ExecuteSQL(connection, cursor, sql)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        cursor.close()</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a0ec38fd14c3b8f6b7bdb20f9fc4815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a0ec38fd14c3b8f6b7bdb20f9fc4815">&#9670;&nbsp;</a></span>insertRow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def insertRow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dataDict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tableSchemaDict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Insert a row into a database table.
Must have previously connected to the database.
   @param dataDict The dict holding the table data
   @param tableName The name of the table to insert data into
   @param tableSchemaDict The schema for the database table.</pre> 
<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00189">189</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">def </span>insertRow(self, dataDict, tableName, tableSchemaDict):</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;@brief Insert a row into a database table.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="stringliteral">                Must have previously connected to the database.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="stringliteral">           @param dataDict The dict holding the table data</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="stringliteral">           @param tableName The name of the table to insert data into</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="stringliteral">           @param tableSchemaDict The schema for the database table.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        insertableDict = DatabaseIF.GetInsertableDict(tableName, dataDict, tableSchemaDict)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        DatabaseIF.InsertRow(self._dbCon, tableName, insertableDict)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a117352cc494cc62c6b2f1882786a332c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a117352cc494cc62c6b2f1882786a332c">&#9670;&nbsp;</a></span>DEBUG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DEBUG = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="database__if_8py_source.html#l00030">30</a> of file <a class="el" href="database__if_8py_source.html">database_if.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/p3lib/<a class="el" href="database__if_8py_source.html">database_if.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
